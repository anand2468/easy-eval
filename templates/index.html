<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload and OCR</title>
    <style>
        body { font-family: Arial, sans-serif; background:#f6f8fa; display:flex; align-items:center; justify-content:center; height:100vh; }
        .card { background:#fff; padding:20px; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,0.08); width:420px; }
        .msg { color:#c00; margin-bottom:12px; }
        pre { background:#f0f0f0; padding:12px; border-radius:6px; overflow:auto; max-height:200px; }
        label { display:block; margin-bottom:6px; font-weight:600; }
        input[type=text], input[type=file] { width:100%; margin-bottom:12px; }
        button { background:#0366d6; color:#fff; border:none; padding:8px 12px; border-radius:6px; cursor:pointer; }
    </style>
</head>
<body>
    <div class="card">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="msg">{% for m in messages %}{{ m }}<br>{% endfor %}</div>
            {% endif %}
        {% endwith %}

        <h3>Upload image and roll number</h3>
        <form method="post" action="/" enctype="multipart/form-data">
            <label for="roll">Roll number</label>
            <input type="text" id="roll" name="roll" placeholder="Enter roll number" required>

            <label for="image">Image</label>
            <input type="file" id="image" name="image" accept="image/*" required>

            <button type="submit">Submit</button>
        </form>

        {% if extracted_text is defined %}
            <hr>
            <p><strong>Uploaded:</strong> {{ filename }}</p>
            <p><strong>Searched roll:</strong> {{ roll }}</p>
            <p><strong>Found in image:</strong> {{ 'Yes' if found else 'No' }}</p>
            <h4>Extracted text</h4>
            <pre>{{ extracted_text }}</pre>
        {% endif %}
    </div>
</body>
</html>